# smartthings\_logging
Python module to log SmartThings data to CloudWatch

## Pre-requisites

1) Setup authentication for the [SmartThings-CLI Python module](https://github.com/rllynch/smartthings_cli)
1) Create a secret in AWS Secrets Manager (`SmartThingsConfig` is the name the app will use by default) and paste in the config JSON generated by the SmartThings-CLI.
1) Fork this repository to your own namespace.
1) Create a [GitHub OAuth Token](https://github.com/settings/tokens).

## Deploy
1) Create the stack from `serverless-pipeline.yaml` or the botton below, and substitute your GitHub username and Token (and `SmartThingsConfigSecretName` if you used a different name).
   [![Launch SmartThings Logger](https://s3.amazonaws.com/cloudformation-examples/cloudformation-launch-stack.png)](https://us-west-2.console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks/create/review?filter=active&templateURL=https://raw.githubusercontent.com/brwyatt/smartthings_logging/master/serverless-pipeline.yaml&stackName=SmartThingsLogger-Pipeline)
1) Allow the Source and Build steps to complete, then approve the Deploy phase.
